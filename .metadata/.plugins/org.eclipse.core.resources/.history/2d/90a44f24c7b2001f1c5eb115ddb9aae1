<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd"> <!-- mybatis mapper DTD문서 정의 태그 -->

<!-- 2024-12-04 문제) 공지사항 만들기 -->
<mapper namespace="GongjiTeacher">

	<!-- 공지 저장 -->
	<insert id="gongji_teacher_save">
		insert into tbl_gongji_teacher (gno, gname, gtitle, gcont) values(gno_seq_teacher.nextval, #{gname}, #{gtitle}, #{gcont})
	</insert>
	
	<!-- 총레코드 개수 -->
	<select id="gongji_teacher_count" resultType="int">
		<!-- 오라클에서 count() 함수는 레코드 개수를 반환한다. -->
		select count(*) from tbl_gongji_teacher
	</select>
	
	<!-- 목록 -->
	<select id="gongji_teacher_li" resultType="board" parameterType="board">
		
		<!-- pageing 관련 Code -->
		<!-- 2024-12-04 댓글수 카운트 기능 replycnt 컬럼 추가관련 작업 코드 -->
		select * from
			(select rowNum rNum, gno, gname, gtitle, ghit, gdate from 
				(select * from tbl_gongji_teacher order by gno desc))
			where rNUM &gt;= #{startrow} and rNum &lt;= #{endrow}
	</select>
</mapper>